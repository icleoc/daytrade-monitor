<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VWAP Monitor</title>
<style>
  body { font-family: Arial; background: #111; color: #eee; }
  h1 { text-align: center; margin: 20px; }
  .cards { display: flex; flex-wrap: wrap; justify-content: center; }
  .card { margin: 10px; padding: 20px; border-radius: 12px; width: 180px; text-align: center; font-weight: bold; }
  .BUY { background: #1abc9c; color: #000; }
  .SELL { background: #e74c3c; color: #fff; }
  .NEUTRO { background: #f39c12; color: #000; }
</style>
</head>
<body>
<h1>VWAP Monitor</h1>
<div class="cards" id="cards"></div>
<script>
async function fetchSignals() {
  const res = await fetch("/api/signals");
  const data = await res.json();
  const container = document.getElementById("cards");
  container.innerHTML = "";
  data.forEach(d => {
    const card = document.createElement("div");
    card.className = `card ${d.sinal}`;
    card.innerHTML = `<div>${d.nome}</div><div>${d.preco || '-'} | VWAP: ${d.vwap || '-'}</div><div>${d.sinal}</div>`;
    container.appendChild(card);
  });
}
// Atualiza cards a cada 30s
fetchSignals();
setInterval(fetchSignals, 30000);
</script>
</body>
</html>
